import React, { useEffect, useState } from 'react';
import styled, { keyframes } from 'styled-components';
import { theme } from '../theme';
import { useLanguage } from '../contexts/LanguageContext.jsx';

const countUp = keyframes`
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
`;

const TrustContainer = styled.div`
  margin: 20px 0;
  padding: 15px;
  background-color: #f9f9f9;
  border-radius: 8px;
  text-align: center;
  font-family: ${theme.font};
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
`;

const CounterText = styled.p`
  font-size: 1.2rem;
  font-weight: 700;
  margin-bottom: 15px;
  color: #333;
  
  span {
    color: ${theme.colors.primary};
    display: inline-block;
    animation: ${countUp} 1s ease forwards;
  }
`;

const LogoRow = styled.div`
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 30px;
  flex-wrap: wrap;
`;

const LogoItem = styled.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  transition: opacity 0.3s ease;
  
  &:hover {
    opacity: 1;
  }
`;

const LogoImage = styled.div`
  height: 40px;
  margin-bottom: 5px;
  display: flex;
  align-items: center;
  justify-content: center;
  
  svg {
    height: 100%;
    width: auto;
  }
`;

const LogoText = styled.span`
  font-size: 0.8rem;
  font-weight: 600;
  color: #444;
`;

export default function TrustIndicators() {
  const [count, setCount] = useState(0);
  const { translations } = useLanguage();
  
  useEffect(() => {
    const timer = setTimeout(() => {
      const counter = setInterval(() => {
        setCount(prev => {
          if (prev < 2147) {
            return Math.min(prev + 100, 2147);
          } else {
            clearInterval(counter);
            return 2147;
          }
        });
      }, 50);
      
      return () => clearInterval(counter);
    }, 500);
    
    return () => clearTimeout(timer);
  }, []);
  
  return (
    <TrustContainer>
      <CounterText>
        {translations.trustCounter.replace('{count}', count.toLocaleString())}
      </CounterText>
      
      <LogoRow>
        <LogoItem>
          <LogoImage>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 272 92" width="100">
              <path d="M115.75 46.35c0 12.77-9.99 22.18-22.25 22.18s-22.25-9.41-22.25-22.18C71.25 33.58 81.24 24 93.5 24s22.25 9.58 22.25 22.35zM93.5 33.57c-6.54 0-11.84 5.42-11.84 12.78 0 7.36 5.3 12.77 11.84 12.77 6.54 0 11.84-5.41 11.84-12.77 0-7.36-5.3-12.78-11.84-12.78zm32.8-9.57h10.41v45.83h-10.41zm55.7 0h10.41v45.83h-10.41zM147.25 55.32c.91 6.54 7.05 11.51 14.88 11.51 8.59 0 13.87-4.96 13.87-11.84 0-6.22-3.74-9.84-10.41-11.25l-6.49-1.32c-2.08-.41-3.33-1.15-3.33-2.82 0-1.91 1.74-2.73 4.12-2.73 3.16 0 5.09 1.67 5.5 4.21h10.17c-.83-6.45-7.04-11.42-15.4-11.42-8.11 0-14.11 4.71-14.11 11.67 0 5.75 3.83 9.74 10.41 11.16l6.16 1.32c2.58.58 3.74 1.41 3.74 3.08 0 1.91-2.16 2.73-4.54 2.73-3.74 0-6.07-1.66-6.49-4.29h-10.17zm63.21-9.57c0-12.43-9.4-21.34-21.33-21.34-11.93 0-21.33 8.91-21.33 21.34 0 12.43 9.4 21.34 21.33 21.34 11.93 0 21.33-8.91 21.33-21.34zm-10.42 0c0 7.35-4.71 12.77-10.91 12.77-6.2 0-10.91-5.42-10.91-12.77 0-7.36 4.71-12.77 10.91-12.77 6.2 0 10.91 5.42 10.91 12.77z" fill="#333"/>
              <path d="M21.32 59.82h-8.09V36.59h8.09c8.4 0 13.97 6.09 13.97 11.61 0 5.53-5.56 11.62-13.97 11.62zM21.32 24H0v47.41h21.32c17.22 0 28.5-12.91 28.5-23.7C49.82 36.91 38.54 24 21.32 24zm50.64 23.7c0-5.52 4.19-10.09 9.61-10.09 5.42 0 9.61 4.57 9.61 10.09 0 5.52-4.19 10.09-9.61 10.09-5.42 0-9.61-4.57-9.61-10.09zm23.7 0c0-8.18-6.56-14.86-14.09-14.86-7.53 0-14.09 6.68-14.09 14.86 0 8.18 6.56 14.86 14.09 14.86 7.53 0 14.09-6.68 14.09-14.86z" fill="#EA4335"/>
              <path d="M211.5 24v47.41h10.08V24zm15.19 35.81c0 6.92 5.61 12.55 12.5 12.55 3.77 0 6.68-1.2 8.36-3.1v2.15h9.91V37.01h-9.91v2.15c-1.68-1.9-4.59-3.1-8.36-3.1-6.89 0-12.5 5.63-12.5 12.55zm21.03 0c0 3.44-2.9 6.26-6.45 6.26-3.54 0-6.45-2.82-6.45-6.26 0-3.44 2.9-6.26 6.45-6.26 3.54 0 6.45 2.82 6.45 6.26z" fill="#FBBC05"/>
              <path d="M261.64 24v8.32c0 3.31-2.1 5.52-5.25 5.52-2.79 0-4.2-1.9-4.2-4.2 0-2.1 1.4-4.2 4.2-4.2h1.05V24h-1.05c-6.82 0-9.87 5.21-9.87 9.64 0 4.72 3.35 9.64 9.87 9.64 6.93 0 10.15-5.52 10.15-9.64V24z" fill="#4285F4"/>
              <path d="M268.4 59.82c-2.1 0-3.85 1.75-3.85 3.85 0 2.1 1.75 3.85 3.85 3.85 2.1 0 3.85-1.75 3.85-3.85 0-2.1-1.75-3.85-3.85-3.85z" fill="#34A853"/>
            </svg>
          </LogoImage>
          <LogoText>Google 5u2605</LogoText>
        </LogoItem>
        
        <LogoItem>
          <LogoImage>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" width="40">
              <path d="M64 32C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64h384c35.3 0 64-28.7 64-64V96c0-35.3-28.7-64-64-64H64zm90.7 96.7c9.7-2.6 19.9 2.3 23.7 11.6l20 48c2.2 5.3 1.4 11.4-2.1 16.1s-9.3 7.6-15.2 7.6h-34.7c-11.3 0-20.5-9.2-20.5-20.5V165.5c0-7.9 4.3-15.1 11.3-18.8s15.2-2.6 21.6 1.7l8.4 5.6c1.4 .9 3.2 1 4.8 .3s2.7-2.2 2.7-4zM48 212.5c0-11.3 9.2-20.5 20.5-20.5h75c11.3 0 20.5 9.2 20.5 20.5v75c0 11.3-9.2 20.5-20.5 20.5h-75c-11.3 0-20.5-9.2-20.5-20.5v-75zm288 0c0-11.3 9.2-20.5 20.5-20.5h75c11.3 0 20.5 9.2 20.5 20.5v75c0 11.3-9.2 20.5-20.5 20.5h-75c-11.3 0-20.5-9.2-20.5-20.5v-75zm-144 0c0-11.3 9.2-20.5 20.5-20.5h75c11.3 0 20.5 9.2 20.5 20.5v75c0 11.3-9.2 20.5-20.5 20.5h-75c-11.3 0-20.5-9.2-20.5-20.5v-75z" fill="#00a1df"/>
            </svg>
          </LogoImage>
          <LogoText>Interac e-Transfer</LogoText>
        </LogoItem>
        
        <LogoItem>
          <LogoImage>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512" width="40">
              <path d="M470.1 231.3s7.6 37.2 9.3 45H446c3.3-8.9 16-43.5 16-43.5-.2.3 3.3-9.1 5.3-14.9l2.8 13.4zM576 80v352c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V80c0-26.5 21.5-48 48-48h480c26.5 0 48 21.5 48 48zM152.5 331.2L215.7 176h-42.5l-39.3 106-4.3-21.5-14-71.4c-2.3-9.9-9.4-12.7-18.2-13.1H32.7l-.7 3.1c15.9 4 29.9 9.8 42.2 16.2l35.8 135.4h42.5zm94.4.2L272.1 176h-40.2l-25.1 155.4h40.1zm139.9-50.8c.2-17.7-10.6-31.2-33.7-42.3-14.1-7.1-22.7-11.9-22.7-19.2.2-6.6 7.3-13.4 23.1-13.4 13.1-.3 22.7 2.8 29.9 5.9l3.6 1.7 5.5-33.6c-7.9-3.1-20.5-6.6-36-6.6-39.7 0-67.6 21.2-67.8 51.4-.3 22.3 20 34.7 35.2 42.2 15.5 7.6 20.8 12.6 20.8 19.3-.2 10.4-12.6 15.2-24.1 15.2-16 0-24.6-2.5-37.7-8.3l-5.3-2.5-5.6 34.9c9.4 4.3 26.8 8.1 44.8 8.3 42.2.1 69.7-20.8 70-53zM528 331.4L495.6 176h-31.1c-9.6 0-16.9 2.8-21 12.9l-59.7 142.5H426s6.9-19.2 8.4-23.3H486c1.2 5.5 4.8 23.3 4.8 23.3H528z" fill="#1a1f71"/>
            </svg>
          </LogoImage>
          <LogoText>Visa Secure</LogoText>
        </LogoItem>
        
        <LogoItem>
          <LogoImage>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512" width="40">
              <path d="M482.9 410.3c0 6.8-4.6 11.7-11.2 11.7-6.8 0-11.2-5.2-11.2-11.7 0-6.5 4.4-11.7 11.2-11.7 6.6 0 11.2 5.2 11.2 11.7zm-310.8-11.7c-7.1 0-11.2 5.2-11.2 11.7 0 6.5 4.1 11.7 11.2 11.7 6.5 0 10.9-4.9 10.9-11.7-.1-6.5-4.4-11.7-10.9-11.7zm117.5-.3c-5.4 0-8.7 3.5-9.5 8.7h19.1c-.9-5.7-4.4-8.7-9.6-8.7zm107.8.3c-6.8 0-10.9 5.2-10.9 11.7 0 6.5 4.1 11.7 10.9 11.7 6.8 0 11.2-4.9 11.2-11.7 0-6.5-4.4-11.7-11.2-11.7zm105.9 26.1c0 .3.3.5.3 1.1 0 .3-.3.5-.3 1.1-.3.3-.3.5-.5.8-.3.3-.5.5-1.1.5-.3.3-.5.3-1.1.3-.3 0-.5 0-1.1-.3-.3 0-.5-.3-.8-.5-.3-.3-.5-.5-.5-.8-.3-.5-.3-.8-.3-1.1 0-.5 0-.8.3-1.1 0-.5.3-.8.5-.8.3-.3.5-.5.8-.5.5-.3.8-.3 1.1-.3.5 0 .8 0 1.1.3.5.3.8.3.8.5.5.3.5.5.5.8zm-2.2 1.4c.5 0 .5-.3.8-.3.3-.3.3-.5.3-.5 0-.3 0-.5-.3-.5-.3 0-.5-.3-.8-.3h-1.1v1.9h1.1zm-123.1-26.2c-6.5 0-11.2 5.2-11.2 11.7 0 6.5 4.6 11.7 11.2 11.7 6.8 0 11.2-4.9 11.2-11.7-.1-6.5-4.4-11.7-11.2-11.7zm-46.5 13.7c0 1.1.3 1.9.3 2.7-.3.8-.3 1.1-.3 1.9.3.8.3 1.1.5 1.9.3.5.3 1.1.8 1.4.3.3.5.5.8.8.3.3.5.3 1.1.5.3.3.8.3 1.1.3.5 0 1.1 0 1.4-.3.5-.3.8-.3 1.1-.5.5-.3.5-.5.8-.8.3-.3.5-.8.8-1.4.3-.8.3-1.1.5-1.9 0-.8 0-1.1-.3-1.9 0-.8-.3-1.6-.3-2.7h-8.5zm-33.2-13.7c-6.5 0-10.9 5.2-10.9 11.7 0 6.5 4.4 11.7 10.9 11.7 6.8 0 11.2-4.9 11.2-11.7 0-6.5-4.4-11.7-11.2-11.7zm-45.2 13.7c0 1.1.3 1.9.3 2.7-.3.8-.3 1.1-.3 1.9.3.8.3 1.1.5 1.9.3.5.3 1.1.8 1.4.3.3.5.5.8.8.3.3.5.3 1.1.5.3.3.8.3 1.1.3.5 0 1.1 0 1.4-.3.5-.3.8-.3 1.1-.5.5-.3.5-.5.8-.8.3-.3.5-.8.8-1.4.3-.8.3-1.1.5-1.9 0-.8 0-1.1-.3-1.9 0-.8-.3-1.6-.3-2.7h-8.5zm-46.7-13.7c-6.5 0-11.2 5.2-11.2 11.7 0 6.5 4.6 11.7 11.2 11.7 6.8 0 11.2-4.9 11.2-11.7-.1-6.5-4.4-11.7-11.2-11.7zM111.9 22.4C106.8 15 97.9 10 87.7 10H15.9C7.1 10 0 16.5 0 24.9v61.5c0 8.4 7.1 14.9 15.9 14.9h72.2c13 0 19-5.4 24.5-14.4L254.1 399c3.3 5.9 9.5 9.5 16 9.5h82c8.7 0 15.9-6.7 15.9-14.9v-61.5c0-8.1-7.1-14.9-15.9-14.9h-72.2c-13 0-19-5.4-24.5-14.4L111.9 22.4zM544 399.1l-93.7-256.5c-3.8-10.6-12.9-16.5-24.5-16.5h-72.2c-8.7 0-15.9 6.8-15.9 14.9v61.5c0 8.1 7.1 14.9 15.9 14.9h72.2c13 0 19-5.4 24.5-14.4L576 399c3.3 5.9 9.5 9.5 15.9 9.5h82c8.7 0 15.9-6.7 15.9-14.9v-61.5c0-8.1-7.1-14.9-15.9-14.9h-72.1c-9.5 0-18.9 5.4-24.5 14.4-5.3 9.5-10.7 19.1-10.7 19.1-5.6 10.4-13.4 16.5-23.4 16.5h-72.2c-8.7 0-15.9 6.8-15.9 14.9v65.3c0 8.1 7.1 14.9 15.9 14.9h72.2c13 0 19-5.4 24.5-14.4l93.6-256.5c3.3-9.1 12.4-14.4 22.7-14.4h25.2c8.7 0 15.9-6.8 15.9-14.9V78.9c0-8.1-7.1-14.9-15.9-14.9h-25c-12.1 0-20.5 5.7-25.2 14.4z" fill="#0079be"/>
            </svg>
          </LogoImage>
          <LogoText>MasterCard SecureCode</LogoText>
        </LogoItem>
        
        <LogoItem>
          <LogoImage>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" width="40">
              <path d="M50 92.5c-23.4 0-42.5-19.1-42.5-42.5S26.6 7.5 50 7.5 92.5 26.6 92.5 50 73.4 92.5 50 92.5zm0-80c-20.7 0-37.5 16.8-37.5 37.5S29.3 87.5 50 87.5 87.5 70.7 87.5 50 70.7 12.5 50 12.5z" fill="#0066b2"/>
              <path d="M50 75c-13.8 0-25-11.2-25-25s11.2-25 25-25 25 11.2 25 25-11.2 25-25 25zm0-45c-11 0-20 9-20 20s9 20 20 20 20-9 20-20-9-20-20-20z" fill="#0066b2"/>
              <path d="M63.6 60.1c-1.2.8-2.7 1.4-4.2 1.4-4.4 0-8-3.6-8-8s3.6-8 8-8c1.5 0 3 .5 4.2 1.4l3.8-3.8c-2.2-1.9-5.1-3.1-8.1-3.1-7.2 0-13 5.8-13 13s5.8 13 13 13c3 0 5.9-1.1 8.1-3.1l-3.8-3.8z" fill="#0066b2"/>
              <path d="M50 62.5c-6.9 0-12.5-5.6-12.5-12.5S43.1 37.5 50 37.5 62.5 43.1 62.5 50 56.9 62.5 50 62.5zm0-20c-4.1 0-7.5 3.4-7.5 7.5s3.4 7.5 7.5 7.5 7.5-3.4 7.5-7.5-3.4-7.5-7.5-7.5z" fill="#0066b2"/>
            </svg>
          </LogoImage>
          <LogoText>CAA-Habitation</LogoText>
        </LogoItem>
        
        <LogoItem>
          <LogoImage>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" width="40">
              <path d="M384 32H64C28.65 32 0 60.65 0 96V416c0 35.35 28.65 64 64 64h320c35.35 0 64-28.65 64-64V96c0-35.35-28.65-64-64-64H384zm90.7 96.7c9.7-2.6 19.9 2.3 23.7 11.6l20 48c2.2 5.3 1.4 11.4-2.1 16.1s-9.3 7.6-15.2 7.6h-34.7c-11.3 0-20.5-9.2-20.5-20.5V165.5c0-7.9 4.3-15.1 11.3-18.8s15.2-2.6 21.6 1.7l8.4 5.6c1.4 .9 3.2 1 4.8 .3s2.7-2.2 2.7-4zM48 212.5c0-11.3 9.2-20.5 20.5-20.5h75c11.3 0 20.5 9.2 20.5 20.5v75c0 11.3-9.2 20.5-20.5 20.5h-75c-11.3 0-20.5-9.2-20.5-20.5v-75zm288 0c0-11.3 9.2-20.5 20.5-20.5h75c11.3 0 20.5 9.2 20.5 20.5v75c0 11.3-9.2 20.5-20.5 20.5h-75c-11.3 0-20.5-9.2-20.5-20.5v-75zm-144 0c0-11.3 9.2-20.5 20.5-20.5h75c11.3 0 20.5 9.2 20.5 20.5v75c0 11.3-9.2 20.5-20.5 20.5h-75c-11.3 0-20.5-9.2-20.5-20.5v-75z" fill="#0066b2"/>
            </svg>
          </LogoImage>
          <LogoText>BBB A+</LogoText>
        </LogoItem>
      </LogoRow>
    </TrustContainer>
  );
}
